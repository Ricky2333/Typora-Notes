![image-20220702163210840](https://img-blog.csdnimg.cn/img_convert/1a0b6d3652dc36ca62aa7729e89b4827.jpeg)

作者｜Rickyの水果摊

时间｜2022年7月24日

---

## 🌈 今日知识点总结

### 1. 作用域（Scope）

#### 1.1 Java 变量分类

Java 中的变量分为 「**属性**」 与 「**局部变量**」。

「**属性**」是在 **类中**，但是定义在 **成员方法** ***外*** 的变量，在定义时 **无需初始化**。

「**局部变量**」是在 **类中**，同时定义在 **成员方法** ***中*** 的变量，在定义时 **必须初始化**。

<br/>

#### 1.2 属性与局部变量示例

```java
class Tool {
		String name; //name、id、gender 均是属性
		int id;
		String gender;
		public void getScore(){
    		double score = 0; //score、subjectNum 均是局部变量
    		int subjectNum = 3;
    		...
    }
}
```

在上面的示例程序中：

`name` 、`id` 、`gender` 均是 **在类中**，但是定义在 **在成员方法外** 的变量，均属于「**属性**」。

`score` 、`subjectNum` 均是 **在类中**，同时定义在 **在成员方法内** 的变量，均属于「**局部变量**」。

<br/>

#### 1.3 作用域的概念

「**属性**」 与 「**局部变量**」有不同的 「**作用域**」。

「**属性**」的作用域是 **整个类**，可以 **被类中所有的** 成员方法使用，也可被 **其他类** 通过 **创建对象** 的方式使用。

「**局部变量**」的作用域是 **单个成员方法**，只能 **被其定义的** 成员方法使用。

<br/>

#### 1.4 作用域的注意细节

🍉 **PS1**：「**属性**」和 「**局部变量**」可以重名，访问时遵循 **就近原则**。

<br/>

🍉 **PS2**：「**属性**」***可以*** 添加 **修饰符**，但是 「**局部变量**」***不可以*** 添加 **修饰符**。

<br/>

### 2. this 关键字

#### 2.1 为什么需要 this 关键字？

在上文中我们已经知道，Java 的「**属性**」和「**局部变量**」是可以重名的，那么在某些情况下，就有可能产生 **命名冲突** 的问题

比如以下代码，想要 **同时输出一个学生的本名和小名**：

```java
class Pupil {
    String name;   //属性 name 代表 本名
    public void getAlias(String name) {   //局部变量 name 代表小名
        System.out.println("我的本名是：" + name + "\n我的小名是：" + name);
    }
}

public class Test {
    public static void main(String[] args) {
        Pupil p = new Pupil();
        p.name = "明世隐";
        p.getAlias("小明");
    }
}
```

**输出结果**：

![image-20220724223048859](https://tva1.sinaimg.cn/large/e6c9d24ely1h4ie0d4hx1j21mq05sju6.jpg)

**结果分析**：

 可以看到，在 `getAlias` 方法中，由于 **代表小名的变量名称** 也为 `name`，根据 **就近原则**，会导致该方法中无法使用 `name` **属性**，从而无法获得本名的值。

因此，我们需要引入 `this` 关键字，来解决此处发生的命名冲突问题。

（PS：此处的命名冲突问题也可以用 **修改变量名** 的方式解决，但是之后 「**构造器**」的内容也会产生命名冲突，且一般不采用修改变量名的方式解决，故了解 `this` 关键字还是非常重要的）

<br/>

#### 2.2 this 关键字的使用

在上述代码中，我们只需将输出部分的前一个 `name` 修改为 `this.name` 即可。

```java
class Pupil {
    String name;   //属性 name 代表 本名
    public void getAlias(String name) {   //局部变量 name 代表小名
        System.out.println("我的本名是：" + this.name + "\n我的小名是：" + name);
    }
}
```

**输出结果**：

![image-20220724235323302](https://tva1.sinaimg.cn/large/e6c9d24ely1h4ige847nlj21mq05wacl.jpg)

<br/>

关于this关键字的本质和原理，可以查看韩顺平老师的网课讲解

> [【视频讲解】this 关键字的本质—韩顺平老师](https://www.bilibili.com/video/BV1fh411y7R8?p=248&vd_source=796196124611740a485335e1a4b12c0f)

<br/>

## ✏️ 今日随记

学习 Java 的 **第 18 天**。⏰

今天主要整理了Java 中的「**作用域**」和「**this 关键字**」的相关内容，较为简单。今天还整理了不少关于构造器的相关内容，但是由于内容较多，打算统一放在明天的「**学习日记**」中。

博主感觉之后的内容梳理起来难度逐渐增大，写博客的时间也在增加，一天一更的频率有点拖网课的节奏了。

博主打算这两天思考一下新的更新方式，能够让博主在保证日记质量的前提下，不花费太多时间在撰写日记上，能够在网课进度上花更多的时间。🧐

不管怎样，现在的第 4 个学习周期博主还是会坚持这个模式的，继续加油。✊

今日摘录：

>  *「**在逆风里把握方向，做暴风雨中的海燕，做不改颜色的孤星**」 — 余光中*

---

**相关博客**：

[【Java】学习日记 Day17](https://blog.csdn.net/qq_46025844/article/details/125954156?spm=1001.2014.3001.5502)

[【Java】学习日记 Day16](https://blog.csdn.net/qq_46025844/article/details/125920143?spm=1001.2014.3001.5502)

[【Java】学习日记 Day15](https://blog.csdn.net/qq_46025844/article/details/125814016)

